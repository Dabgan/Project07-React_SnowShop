(function(a,b){'function'==typeof define&&define.amd?define('frontAPI',[],b):'object'==typeof module&&module.exports?module.exports=b():a.frontAPI?a['frontAPI'+b().getVersion().replace(/\./g,'')]=b():a.frontAPI=b()})(window,function(a){function f(q,r){return q.replace(/\{(.+?)\}/g,function(s,t){return t in r?r[t]:s})}function g(q,r){var s;return s=f(q,{id:r.id||'',lang:r.lang||m,currency:r.currency||l,search:r.search||''}),r.urlParams&&(s+=r.urlParams),s}function h(q,r,s,t){return'function'!=typeof s&&(s=!1),t=t||{},t.data&&(t.data=JSON.stringify(t.data)),!1===s?(syncReq=k.send(r,t.data||'',function(){},q,!1,t.headers),syncReq.responseText?JSON.parse(syncReq.responseText):200===syncReq.status):void o.push({url:r,data:t.data||'',callback:s,method:q,headers:t.headers})}var j,k,l,m,n,o;o={requestInProgress:!1,maxRequests:3,requests:0,queue:[],push:function(q){this.queue.push(q),this.requests<this.maxRequests&&this.shift()},shift:function(){var q,r,s;q=this,r=this.queue.splice(0,this.maxRequests-this.requests),s=r.length,this.requests+=s,r.forEach(function(t){k.send(t.url,t.data,function(u,w){return 429===w?(setTimeout(function(){q.queue.push(t),q.shift()},200),!1):void('function'==typeof t.callback&&(u?t.callback(JSON.parse(u)):200===w?t.callback(!0):t.callback(!1)),q.requests-=1,!q.queue.length||q.shift())},t.method,!0,t.headers)})}},l=window.Shop&&Shop.values?Shop.values.currency||'PLN':'PLN',m=window.Shop&&Shop.lang?Shop.lang.name||'pl_PL':'pl_PL',n='1.0.5',k={},k.x=function(){var q,r,s;if('undefined'!=typeof XMLHttpRequest)return new XMLHttpRequest;for(q=['MSXML2.XmlHttp.6.0','MSXML2.XmlHttp.5.0','MSXML2.XmlHttp.4.0','MSXML2.XmlHttp.3.0','MSXML2.XmlHttp.2.0','Microsoft.XmlHttp'],s=0;s<q.length;s++)try{r=new ActiveXObject(q[s]);break}catch(t){}return r},k.send=function(q,r,s,t,u,w){var y,z;if(u===a&&(u=!0),y=k.x(),y.open(t,q,u),y.onreadystatechange=function(){4==y.readyState&&s(y.responseText,y.status)},'POST'===t||'PUT'===t){for(z in w)w.hasOwnProperty(z)&&y.setRequestHeader(z,w[z]);y.setRequestHeader('Content-type','application/x-www-form-urlencoded')}return y.send(r),y},j={setCurrency:function(q){l=q},setLang:function(q){m=q},getCurrency:function(){return l},getLang:function(){return m},setMaxRequests:function(q){o.maxRequests=q},noConflict:function(){return this},getVersion:function(){return n},compareVersion:function(q){var r;return q=parseInt(q.replace(/\./g,'')),r=parseInt(n.replace(/\./g,'')),q>r?1:q<r?-1:0},getDefaults:function(q,r){return r=r||q||{},h('GET','/webapi/front/shop/defaults/',q)},getCountries:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/countries/{id}/',r),q)},getCountry:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/countries/{id}/',r),q)},login:function(q,r){return r=r||q||{},r.headers={Authorization:'Basic '+btoa(r.data.username+':'+r.data.password)},r.data=null,h('POST',g('/webapi/front/{lang}/auth/login/',r),q,r)},logout:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/auth/logout/',r),q,r)},remindPassword:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/auth/remind/',r),q,r)},authStatus:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/auth/status/',r),q,r)},getAFContactForm:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/contact-form/',r),q,r)},getAFOrderOnLoggedUser:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/order-logged-on-user/',r),q,r)},getAFOrderWithoutRegistration:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/order-without-registration/',r),q,r)},getAFOrderWithRegistration:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/order-with-registration/',r),q,r)},getAFUserRegistration:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/user-registration/',r),q,r)},getAFUserAccount:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/additional-fields/user-account/',r),q,r)},registerUser:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/user/register/',r),q,r)},editUser:function(q,r){return r=r||q||{},h('PUT',g('/webapi/front/{lang}/user/',r),q,r)},getUser:function(q,r){var s;return('interactive'===document.readyState||'complete'===document.readyState)&&(s=document.querySelectorAll('html')[0].getAttribute('data-fmc'),'1'===s||'2'===s)?{}:(r=r||q||{},h('GET',g('/webapi/front/{lang}/user/',r),q,r))},getUserAddress:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/user/address/',r),q,r)},addUserAddress:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/user/address/',r),q,r)},removeUserAddress:function(q,r){return r=r||q||{},h('DELETE',g('/webapi/front/{lang}/user/address/{id}',r),q,r)},editUserAddress:function(q,r){return r=r||q||{},h('PUT',g('/webapi/front/{lang}/user/address/{id}',r),q,r)},getUserOrders:function(q,r){var s;return r=r||q||{},('interactive'===document.readyState||'complete'===document.readyState)&&(s=document.querySelectorAll('html')[0].getAttribute('data-fmc'),'1'===s||'2'===s)?{}:h('GET',g('/webapi/front/{lang}/user/orders/{id}',r),q,r)},getLanguages:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/languages/{id}',r),q,r)},getLanguage:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/languages/{id}',r),q,r)},getCurrencies:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/currencies/{id}',r),q,r)},getCurrency:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/currencies/{id}',r),q,r)},getPages:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/pages/{id}',r),q,r)},getProduct:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/{id}',r),q,r)},getProductOption:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/products/{currency}/{id}/stock/',r),q,r)},getProductOptionValues:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/{id}/options/'+r.ids.join(','),r),q,r)},getProductRelated:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/{id}/related/',r),q,r)},getMainProducts:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/main/',r),q,r)},getNewProducts:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/news/',r),q,r)},getPotdProducts:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/day/',r),q,r)},getPromotionProducts:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/promotions/',r),q,r)},search:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/search/{search}',r),q,r)},getProducts:function(q,r){return r=r||q||{},128<r.ids.length&&(r.ids.length=128),h('GET',g('/webapi/front/{lang}/products/{currency}/list/'+r.ids.join(','),r),q,r)},getProductsList:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/products/{currency}/list/',r),q,r)},getProductsFromCategory:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/{id}/products/{currency}/',r),q,r)},getFiltersFromCategory:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/{id}/filters/{currency}/',r),q,r)},getRootCategoryTree:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/main/',r),q,r)},getCategoryChildrens:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/{id}/children/',r),q,r)},getCategoryTree:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/{id}/tree/',r),q,r)},getCategory:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/{id}/',r),q,r)},getCategoryList:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/list/',r),q,r)},getCategories:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/categories/tree/',r),q,r)},getBasketInfo:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/basket/{currency}/',r),q,r)},addToBasket:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/basket/{currency}/',r),q,r)},setBasketInfo:function(q,r){return r=r||q||{},h('PUT',g('/webapi/front/{lang}/basket/{currency}/',r),q,r)},removeFromBasket:function(q,r){return r=r||q||{},h('DELETE',g('/webapi/front/{lang}/basket/{currency}/{id}/',r),q,r)},editBasketProductQuantity:function(q,r){return r=r||q||{},h('PUT',g('/webapi/front/{lang}/basket/{currency}/{id}/',r),q,r)},submitOrder:function(q,r){return r=r||q||{},h('POST',g('/webapi/front/{lang}/basket/{currency}/order/',r),q,r)},getPaczkomaty:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/basket/paczkomaty/',r),q,r)},getRegions:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/countries/{id}/regions',r),q,r)},getRegion:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/countries/'+r.country_id+'/regions/{id}',r),q,r)},getPage:function(q,r){return r=r||q||{},h('GET',g('/webapi/front/{lang}/pages/{id}',r),q,r)}};var p=document.createEvent('HTMLEvents');return p.initEvent('frontAPIReady',!1,!0),window.frontAPI=j,document.dispatchEvent(p),j});